{"version":3,"file":"commonHelpers2.js","sources":["../src/js/shoppingListRender.js","../src/shopping-list-main.js"],"sourcesContent":["import { removeFromLocalStorage } from './localStorage.js';\nimport { getAllBooks } from './localStorage.js';\nimport amazonLogo from '../img/amazon.png';\nimport appleLogo from '../img/book.png';\nimport {} from '../js/refs.js';\nimport icon from '/img/noptimizesprite.svg';\nconst shoppingListRef = document.querySelector('#shopping-list');\nconst emptyShopListRef = document.querySelector('.box-bookslist');\n\ncheckLocalStorage();\n\nfunction checkLocalStorage() {\n  if (getAllBooks().length) {\n    emptyShopListRef.classList.add('emptyShoppingList');\n  } else emptyShopListRef.classList.remove('emptyShoppingList');\n}\n\n// window.addEventListener('load', renderShoppingList);\n\nexport function renderShoppingList(books) {\n  const allBooksMarkup = (books || getAllBooks())\n    .map(bookElem => markupShoppingList(bookElem))\n    .join('');\n  shoppingListRef.innerHTML = allBooksMarkup;\n  const bloom = document.querySelector('#shopping-list');\n  bloom.addEventListener('click', deleteFromShoppingList);\n}\n\nfunction deleteFromShoppingList(event) {\n  if (!event.target.hasAttribute('id') === 'icon-deleteBtn') return;\n  removeFromLocalStorage(event);\n  checkLocalStorage();\n  renderShoppingList();\n}\n\nfunction markupShoppingList(book) {\n  return `<li class=\"shopping-list-item\">\n    <button type=\"button\" class=\"icon-deleteBtn\" data-id=\"${book._id}\">\n      <svg class=\"icon-trash\" id=\"icon-trash-03\" width=\"28\" height=\"28\">\n        <use href=\"${icon}#icon-trash-03\"></use>\n      </svg>\n    </button>\n      <img src=\"${book.book_image}\" alt=\"${book.title}\" class=\"shopping-item-img\">\n      \n    \n    <div class=\"book-info-wrap\">\n      <p class=\"book-title shopping-book-title break-text\">${book.title}</p>\n      <p class=\"shopping-book-category break-text\">${book.list_name}</p>\n      <p class=\"book-alt-text\">${book.description}</p>\n      <div class=\"author-shops-wrap\">\n        <p class=\"book-author\">${book.author}</p>\n        <div class=\"img-wrap shopping-img-wrap\">\n          <a href=\"${book.amazon_product_url}\" target=\"blank\">\n            <img src=\"${amazonLogo}\" alt=\"amazon-logo\" class=\"amazon-logo shopping-amazon-logo\" width=\"62\" height=\"19\">\n          </a>\n          <a href=\"${book.buy_links[1].url}\" target=\"_blank\">\n            <img src=\"${appleLogo}\" alt=\"apple-book\" class=\"apple-logo shopping-apple-logo\" width=\"33\" height=\"32\">\n          </a>\n        </div>\n      </div>\n    </div>\n  </li>`;\n}\nwindow.addEventListener('resize', function () {\n  addDisplayPropertyToSupportClass();\n});\n\nfunction addDisplayPropertyToSupportClass() {\n  const screenWidth =\n    window.innerWidth ||\n    document.documentElement.clientWidth ||\n    document.body.clientWidth;\n  const supportElement = document.querySelector('.support');\n\n  if (screenWidth > 1440 && supportElement) {\n    supportElement.style.display = 'block';\n  } else {\n    supportElement.style.display = 'none';\n  }\n}\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  const currentPath = window.location.pathname;\n  const shopLink = document.querySelector('.header-nav-shop');\n\n  if (currentPath.includes('shoppinglist.html')) {\n    shopLink.classList.add('is-active');\n  }\n});\n","import './js/shoppingListRender.js';\nimport './js/support.js';\nimport './js/pagination.js';\nimport './js/theme.js';\n\nimport './img/noptimizesprite.svg';\n\nimport { refs } from './js/refs.js';\nimport { onAddThemeLocalStorage } from './js/localStorage.js';\nimport { toggleModal } from './js/modalburger.js';\n\n// Темна тема\nif (localStorage.getItem('theme') === 'dark') {\n  refs.themeCheckbox.checked = true;\n  document.body.classList.add('dark-theme');\n}\n\nrefs.themeCheckbox.addEventListener('change', onAddThemeLocalStorage);\n\n// Бургер меню\n\nrefs.burgerBtn.addEventListener('click', () => {\n  refs.burgerCont.classList.toggle('is-open-burger');\n  refs.body.classList.toggle('modal-open-burger');\n  toggleModal();\n});\n"],"names":["emptyShopListRef","checkLocalStorage","getAllBooks","addDisplayPropertyToSupportClass","screenWidth","supportElement","currentPath","shopLink","refs","onAddThemeLocalStorage","toggleModal"],"mappings":"+GAMwB,SAAS,cAAc,gBAAgB,EAC/D,MAAMA,EAAmB,SAAS,cAAc,gBAAgB,EAEhEC,IAEA,SAASA,GAAoB,CACvBC,EAAa,EAAC,OAChBF,EAAiB,UAAU,IAAI,mBAAmB,EAC7CA,EAAiB,UAAU,OAAO,mBAAmB,CAC9D,CAgDA,OAAO,iBAAiB,SAAU,UAAY,CAC5CG,GACF,CAAC,EAED,SAASA,GAAmC,CAC1C,MAAMC,EACJ,OAAO,YACP,SAAS,gBAAgB,aACzB,SAAS,KAAK,YACVC,EAAiB,SAAS,cAAc,UAAU,EAEpDD,EAAc,MAAQC,EACxBA,EAAe,MAAM,QAAU,QAE/BA,EAAe,MAAM,QAAU,MAEnC,CAEA,SAAS,iBAAiB,mBAAoB,UAAY,CACxD,MAAMC,EAAc,OAAO,SAAS,SAC9BC,EAAW,SAAS,cAAc,kBAAkB,EAEtDD,EAAY,SAAS,mBAAmB,GAC1CC,EAAS,UAAU,IAAI,WAAW,CAEtC,CAAC,EC5EG,aAAa,QAAQ,OAAO,IAAM,SACpCC,EAAK,cAAc,QAAU,GAC7B,SAAS,KAAK,UAAU,IAAI,YAAY,GAG1CA,EAAK,cAAc,iBAAiB,SAAUC,CAAsB,EAIpED,EAAK,UAAU,iBAAiB,QAAS,IAAM,CAC7CA,EAAK,WAAW,UAAU,OAAO,gBAAgB,EACjDA,EAAK,KAAK,UAAU,OAAO,mBAAmB,EAC9CE,GACF,CAAC"}